Tarefa: Geracao de resumo automatico

Objetivo
Gerar um resumo automatico das principais atividades e emocoes detectadas no
video, consolidado no mesmo arquivo de metadados do pipeline unico.

Escopo desta etapa
- Contabilizar atividades detectadas por frame
- Contabilizar emocoes dominantes por rosto
- Persistir o resumo no final do arquivo de metadados
- Gerar apenas o resumo por padrao (sem persistencia frame a frame)

Diretrizes
- Use Python
- Arquitetura: Pipeline + modulos (clean light)
- Aplicacao desktop
- Unico ponto de entrada para a aplicacao
- Priorize: cv2, deepface, mediapipe, os
- Codigo em ingles
- Sem comentarios no codigo
- Responda sempre em portugues

Entradas
- Contagens acumuladas durante o processamento do video

Saidas
- Resumo no final do arquivo `metadata.jsonl` com contagens e top 3

Passos sugeridos
1) Coletar contagens durante o processamento do video
2) Calcular top 3 atividades e top 3 emocoes
3) Escrever um registro final com o resumo no mesmo arquivo

Criterios de aceitacao
- Resumo inclui contagem total de frames processados
- Resumo inclui contagem de faces detectadas
- Resumo inclui total de anomalias detectadas
- Resumo inclui top 3 atividades e top 3 emocoes
